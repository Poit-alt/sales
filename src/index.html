<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' https://via.placeholder.com" />
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'" />
    <meta name="storage-path" content="/Users/peternordal/Documents/GitHub/sales/data/products.json" />
    <title>Project Hub</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css" />
  </head>
  <body>
    <header>
      <div class="logo">ProjectHub</div>
      <div class="header-actions">
        <!-- Dark mode toggle moved to sidebar footer -->
      </div>
    </header>
    
    <main>
      <aside class="sidebar">
        <div class="sidebar-content">
          <ul class="sidebar-nav">
            <li><a href="#" data-tab="dashboard" class="active"><i class="fa fa-sitemap"></i> <span>Projects</span></a></li>
            <li><a href="#" data-tab="products"><i class="fa fa-cubes"></i> <span>Products</span></a></li>
            <li><a href="#"><i class="fa fa-file-text"></i> <span>Documents</span></a></li>
            <li class="divider"></li>
            <li><a href="#"><i class="fa fa-cog"></i> <span>Settings</span></a></li>
            <li><a href="#"><i class="fa fa-question-circle"></i> <span>Help</span></a></li>
          </ul>
          
          <div class="sidebar-footer">
            <button id="theme-toggle" class="theme-toggle" title="Toggle Dark Mode">
              <i class="fa fa-moon-o"></i>
              <i class="fa fa-sun-o"></i>
            </button>
            <button id="toggle-sidebar" class="btn-icon" title="Toggle Sidebar">
              <i class="fa fa-angle-left"></i>
              <i class="fa fa-bars mobile-icon"></i>
            </button>
          </div>
        </div>
      </aside>
      
      <section class="content">
        <div class="content-header">
          <h1>Project Dashboard</h1>
          <div class="content-actions">
            <button class="button"><i class="fa fa-plus"></i> New Project</button>
          </div>
        </div>
        
        <div class="projects-summary">
          <div class="summary-card active">
            <div class="summary-value" id="num-products">-</div>
            <div class="summary-label">Products</div>
          </div>
          <div class="summary-card upcoming">
            <div class="summary-value" id="num-categories">-</div>
            <div class="summary-label">Categories</div>
          </div>
          <div class="summary-card completed">
            <div class="summary-value" id="num-sales">-</div>
            <div class="summary-label">Sales</div>
          </div>
          <div class="summary-card overdue">
            <div class="summary-value" id="num-customers">-</div>
            <div class="summary-label">Customers</div>
          </div>
        </div>
        
        <!-- Using sidebar navigation instead of tabs -->
        
        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard-tab">
          <h2>Active Projects</h2>
          <div class="project-grid">
            <div class="project-card">
              <div class="project-card-header">
                <div class="project-priority high">High Priority</div>
                <div class="project-menu"><i class="fa fa-ellipsis-v"></i></div>
              </div>
              <h3 class="project-title">Website Redesign</h3>
              <div class="project-details">
                <div class="project-completion">
                  <span class="completion-text">75% Complete</span>
                  <div class="progress-bar">
                    <div class="progress" style="width: 75%"></div>
                  </div>
                </div>
                <div class="project-deadline">
                  <i class="fa fa-calendar"></i> Due: Jun 15, 2023
                </div>
                <div class="project-team">
                  <div class="team-members">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <span class="team-more">+2</span>
                  </div>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat">
                  <i class="fa fa-check-circle"></i> 18/24
                </div>
                <div class="stat">
                  <i class="fa fa-comment"></i> 12
                </div>
                <div class="stat">
                  <i class="fa fa-paperclip"></i> 5
                </div>
              </div>
            </div>
            
            <div class="project-card">
              <div class="project-card-header">
                <div class="project-priority medium">Medium Priority</div>
                <div class="project-menu"><i class="fa fa-ellipsis-v"></i></div>
              </div>
              <h3 class="project-title">Mobile App Development</h3>
              <div class="project-details">
                <div class="project-completion">
                  <span class="completion-text">45% Complete</span>
                  <div class="progress-bar">
                    <div class="progress" style="width: 45%"></div>
                  </div>
                </div>
                <div class="project-deadline">
                  <i class="fa fa-calendar"></i> Due: Jul 30, 2023
                </div>
                <div class="project-team">
                  <div class="team-members">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                  </div>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat">
                  <i class="fa fa-check-circle"></i> 24/53
                </div>
                <div class="stat">
                  <i class="fa fa-comment"></i> 28
                </div>
                <div class="stat">
                  <i class="fa fa-paperclip"></i> 12
                </div>
              </div>
            </div>
            
            <div class="project-card">
              <div class="project-card-header">
                <div class="project-priority high">High Priority</div>
                <div class="project-menu"><i class="fa fa-ellipsis-v"></i></div>
              </div>
              <h3 class="project-title">CRM Integration</h3>
              <div class="project-details">
                <div class="project-completion">
                  <span class="completion-text">30% Complete</span>
                  <div class="progress-bar">
                    <div class="progress" style="width: 30%"></div>
                  </div>
                </div>
                <div class="project-deadline">
                  <i class="fa fa-calendar"></i> Due: Jun 25, 2023
                </div>
                <div class="project-team">
                  <div class="team-members">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <span class="team-more">+1</span>
                  </div>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat">
                  <i class="fa fa-check-circle"></i> 12/40
                </div>
                <div class="stat">
                  <i class="fa fa-comment"></i> 15
                </div>
                <div class="stat">
                  <i class="fa fa-paperclip"></i> 8
                </div>
              </div>
            </div>
            
            <div class="project-card">
              <div class="project-card-header">
                <div class="project-priority low">Low Priority</div>
                <div class="project-menu"><i class="fa fa-ellipsis-v"></i></div>
              </div>
              <h3 class="project-title">Content Strategy</h3>
              <div class="project-details">
                <div class="project-completion">
                  <span class="completion-text">85% Complete</span>
                  <div class="progress-bar">
                    <div class="progress" style="width: 85%"></div>
                  </div>
                </div>
                <div class="project-deadline">
                  <i class="fa fa-calendar"></i> Due: Jun 10, 2023
                </div>
                <div class="project-team">
                  <div class="team-members">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                    <img src="https://via.placeholder.com/24" alt="Team Member" class="team-member">
                  </div>
                </div>
              </div>
              <div class="project-stats">
                <div class="stat">
                  <i class="fa fa-check-circle"></i> 17/20
                </div>
                <div class="stat">
                  <i class="fa fa-comment"></i> 7
                </div>
                <div class="stat">
                  <i class="fa fa-paperclip"></i> 3
                </div>
              </div>
            </div>
          </div>
          
          <h2>Upcoming Deadlines</h2>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Project</th>
                  <th>Status</th>
                  <th>Team Lead</th>
                  <th>Deadline</th>
                  <th>Progress</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="project-cell">
                    <div class="project-info">
                      <span class="project-name">Website Redesign</span>
                      <span class="project-client">Acme Corp</span>
                    </div>
                  </td>
                  <td><span class="status-in-progress">In Progress</span></td>
                  <td>Jane Smith</td>
                  <td>Jun 15, 2023</td>
                  <td>
                    <div class="progress-bar">
                      <div class="progress" style="width: 75%"></div>
                    </div>
                  </td>
                  <td>
                    <div class="actions">
                      <button class="btn-icon"><i class="fa fa-eye"></i></button>
                      <button class="btn-icon"><i class="fa fa-edit"></i></button>
                      <button class="btn-icon"><i class="fa fa-share-alt"></i></button>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="project-cell">
                    <div class="project-info">
                      <span class="project-name">CRM Integration</span>
                      <span class="project-client">TechNova</span>
                    </div>
                  </td>
                  <td><span class="status-at-risk">At Risk</span></td>
                  <td>Mike Johnson</td>
                  <td>Jun 25, 2023</td>
                  <td>
                    <div class="progress-bar">
                      <div class="progress progress-warning" style="width: 30%"></div>
                    </div>
                  </td>
                  <td>
                    <div class="actions">
                      <button class="btn-icon"><i class="fa fa-eye"></i></button>
                      <button class="btn-icon"><i class="fa fa-edit"></i></button>
                      <button class="btn-icon"><i class="fa fa-share-alt"></i></button>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td class="project-cell">
                    <div class="project-info">
                      <span class="project-name">Content Strategy</span>
                      <span class="project-client">GlobeCorp</span>
                    </div>
                  </td>
                  <td><span class="status-in-progress">In Progress</span></td>
                  <td>Sarah Williams</td>
                  <td>Jun 10, 2023</td>
                  <td>
                    <div class="progress-bar">
                      <div class="progress" style="width: 85%"></div>
                    </div>
                  </td>
                  <td>
                    <div class="actions">
                      <button class="btn-icon"><i class="fa fa-eye"></i></button>
                      <button class="btn-icon"><i class="fa fa-edit"></i></button>
                      <button class="btn-icon"><i class="fa fa-share-alt"></i></button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- Products Tab -->
        <div class="tab-content" id="products-tab">
          <div class="products-header">
            <div id="db-path-container"></div>
            
            <div class="product-controls">
              <button id="select-db-path" class="button button-primary"><i class="fa fa-folder-open"></i> Open Products Database</button>
              
              <div class="products-actions">
                <div class="search-container">
                  <input type="text" id="product-search" placeholder="Search products...">
                  <i class="fa fa-search"></i>
                </div>
                <div class="filter-container">
                  <select id="category-filter">
                    <option value="">All Categories</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          
          <div class="table-container">
            <table id="products-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Category</th>
                  <th>Price</th>
                  <th>Stock</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="products-table-body">
                <!-- Products will be loaded here dynamically -->
                <tr class="empty-row">
                  <td colspan="7">
                    <div class="empty-state">
                      <i class="fa fa-cubes"></i>
                      <p>No products found. Please select a database folder.</p>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- Pagination -->
          <div class="pagination">
            <button id="prev-page" class="pagination-btn" disabled><i class="fa fa-chevron-left"></i> Previous</button>
            <span id="page-info">Page 1 of 1</span>
            <button id="next-page" class="pagination-btn" disabled>Next <i class="fa fa-chevron-right"></i></button>
          </div>
        </div>
      </section>
    </main>
    
    <!-- Product Edit Modal -->
    <div id="product-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modal-title">Edit Product</h2>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <form id="product-form">
            <div class="form-row">
              <div class="form-group">
                <label for="product-id">Product ID</label>
                <input type="text" id="product-id" readonly>
              </div>
              
              <div class="form-group">
                <label for="product-type">Product Type</label>
                <select id="product-type">
                  <option value="regular">Regular Product</option>
                  <option value="bundle">Bundle/Kit</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="product-name">Name</label>
                <input type="text" id="product-name" required>
              </div>
              
              <div class="form-group">
                <label for="product-price">Price</label>
                <input type="number" id="product-price" min="0" step="0.01" required>
              </div>
            </div>
            
            <div class="form-row bundle-fields" style="display: none;">
              <div class="form-group">
                <label for="product-regular-price">Regular Price (Full Price)</label>
                <input type="number" id="product-regular-price" min="0" step="0.01">
              </div>
              
              <div class="form-group">
                <label for="product-bundle-savings">Bundle Savings Description</label>
                <input type="text" id="product-bundle-savings" placeholder="e.g. 15% off regular price">
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="product-category">Category</label>
                <select id="product-category" required>
                  <!-- Categories will be loaded dynamically -->
                </select>
              </div>
              
              <div class="form-group">
                <label for="product-subcategory">Subcategory</label>
                <select id="product-subcategory">
                  <option value="">None</option>
                  <!-- Subcategories will be loaded dynamically -->
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="product-description">Description</label>
              <textarea id="product-description" rows="3"></textarea>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="product-currency">Currency</label>
                <select id="product-currency">
                  <option value="USD">USD ($)</option>
                  <option value="EUR">EUR (€)</option>
                  <option value="GBP">GBP (£)</option>
                  <option value="NOK">NOK (kr)</option>
                  <option value="SEK">SEK (kr)</option>
                  <option value="DKK">DKK (kr)</option>
                </select>
              </div>
              
              <div class="form-group">
                <label for="product-status">Status</label>
                <select id="product-status">
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                  <option value="Out of Stock">Out of Stock</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="product-instock">In Stock</label>
                <input type="checkbox" id="product-instock">
              </div>
              
              <div class="form-group">
                <label for="product-quantity">Quantity</label>
                <input type="number" id="product-quantity" min="0" step="1">
              </div>
            </div>
            
            <!-- Bundle items section -->
            <div class="form-row bundle-fields bundle-items-section" style="display: none;">
              <div class="form-group full-width">
                <label>Bundle Items</label>
                <div id="bundle-items-container">
                  <!-- Bundle item inputs will be added here dynamically -->
                </div>
                <button type="button" id="add-bundle-item" class="button button-outline"><i class="fa fa-plus"></i> Add Product to Bundle</button>
              </div>
            </div>
            
            <div class="form-row features-section">
              <div class="form-group full-width">
                <label>Features</label>
                <div id="features-container">
                  <!-- Feature inputs will be added here dynamically -->
                </div>
                <button type="button" id="add-feature" class="button button-outline"><i class="fa fa-plus"></i> Add Feature</button>
              </div>
            </div>
            
            <div class="form-actions">
              <button type="button" id="cancel-edit" class="button button-outline">Cancel</button>
              <button type="submit" id="save-product" class="button">Save Changes</button>
            </div>
          </form>
        </div>
      </div>
    </div>
    
    <script src="renderer.js"></script>
  </body>
</html>